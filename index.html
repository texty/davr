<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>rivers</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"/>

    <link rel="stylesheet" href="css/styles.css">


</head>
<body>
<div id="map"></div>
<div id="clone"></div>
<div id="body"></div>
<script>
    var clonedivWidth = document.getElementById('clone').clientWidth;
    var mapWidth = document.getElementById('body').clientWidth;
</script>


<div id="myModal" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
        <span class="close">&times;</span>
        <p id="petalsData">Триває завантаження...</p>
        <div id="myModalGrid">
            <div id="chart"></div>
            <div id="big-flower">

            </div>
        </div>
    </div>
</div>

<script src="lib/jquery-2.1.4.min.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://d3js.org/colorbrewer.v1.min.js"></script>
<script src="https://d3js.org/topojson.v2.min.js"></script>


<script src="js/drawBigFlower.js"></script>
<script src="js/drawChart.js"></script>
<script src="js/updateRiver.js"></script>
<script src="js/contaminants.js"></script>

<!--<script src='lib/leaflet-src.js'></script>-->
<!--<script src='https://raw.github.com/calvinmetcalf/leaflet-ajax/master/dist/leaflet.ajax.min.js'></script>-->

<!--<script src="js/leafletmap.js"></script>-->


<div id="allrivers">
    <div id="danube" class="riverCont">
        <h5>Дунай</h5>
        <img style="width:100%" src="img/danube.png"/>
    </div>
    <div id="dnister" class="riverCont">
        <h5>Дністер</h5>
        <img style="width:100%" src="img/dnister.png"/>
    </div>
    <div id="wisla" class="riverCont">
        <h5>Вісла</h5>
        <img style="width:100%" src="img/wisla.png"/>
    </div>
    <div id="southernbug" class="riverCont">
        <h5>Південний Буг</h5>
        <img style="width:100%" src="img/southernbug.png"/>
    </div>
    <div id="dnipro" class="riverCont">
        <h5>Дніпро</h5>
        <img style="width:100%" src="img/dnipro.png"/>
    </div>
    <div id="don" class="riverCont">
        <h5>Дон</h5>
        <img style="width:100%" src="img/don.png"/>
    </div>
</div>


<div id="regions">
    <div class="button">
    <p class="button">Вінницька</p>
    </div>
    <div class="button">
    <p class="button">Волинська</p>
    </div>
    <div class="button">
    <p class="button">Луганська</p>
    </div>
    <div class="button">
    <p class="button">Дніпропетровська</p>
    </div>
    <div class="button">
    <p class="button">Донецька</p>
    </div>
    <div class="button">
    <p class="button">Житомирська</p>
    </div>
    <div class="button">
    <p class="button">Закарпатська</p>
    </div>
    <div class="button">
    <p class="button">Запорізька</p>
    </div>
    <div class="button">
    <p class="button">Івано-Франківська</p>
    </div>
    <div class="button">
    <p class="button">Київ</p>
    </div>
    <div class="button">
    <p class="button">Київська</p>
    </div>
    <div class="button">
    <p class="button">Кіровоградська</p>
    </div>
    <div class="button">
    <p class="button">Львівська</p>
    </div>
    <div class="button">
    <p class="button">Миколаївська</p>
    </div>
    <div class="button">
    <p class="button">Одеська</p>
    </div>
    <div class="button">
    <p class="button">Полтавська</p>
    </div>
    <div class="button">
    <p class="button">Рівненська</p>
    </div>
    <div class="button">
    <p class="button">Сумська</p>
    </div>
    <div class="button">
    <p class="button">Тернопільська</p>
    </div>
    <div class="button">
    <p class="button">Харківська</p>
    </div>
    <div class="button">
    <p class="button">Херсонська</p>
    </div>
    <div class="button">
    <p class="button">Хмельницька</p>
    </div>
    <div class="button">
    <p class="button">Черкаська</p>
    </div>
    <div class="button">
    <p class="button">Чернігівська</p>
    </div>
    <div class="button">
    <p class="button">Чернівецька</p>
    </div>

</div>

<div id="contaminants">


</div>


<script>


    setTimeout(function () {
        $('.river').css('display', "block");
    }, 3000);
    /* функція фільтрує річки і квітки по обраній річці графік на різні індикатори*/

    $(".riverCont").on("click", function () {
        var t = d3.zoomIdentity.translate(0, 0).scale(1);
        d3.select("#body").call(zoom.transform, t);

        var id = $(this).attr("id");
//        alert(id);

        var filteredArray = riversNames.filter(function (obj) {
            return obj.value === id;
        });

        d3.selectAll(".river")
                .style("display", "none")
                .each(function () {
                    var currentPath = this;
                    if (currentPath.classList.contains(filteredArray[0].value)) {
                        d3.select(currentPath).style("display", "block")
                    }
                });

        d3.selectAll(".petal")
                .style("display", "none")
                .each(function () {
                    var currentPath = this;
                    if (currentPath.classList.contains(filteredArray[0].value)) {
                        d3.select(currentPath).style("display", "block")
                    }
                });

    });


</script>

</body>
</html>