<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>rivers</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<div id="body"></div>
<div id="clone"></div>
<script>
    var clonedivWidth = document.getElementById('clone').clientWidth;
    var mapWidth = document.getElementById('body').clientWidth;
</script>




<div id="myModal" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
        <span class="close">&times;</span>
        <p id="petalsData">Триває завантаження...</p>
        <div id="myModalGrid">
            <div id="chart"></div>
            <div id="big-flower">

            </div>
        </div>
    </div>
</div>

<script src="lib/jquery-2.1.4.min.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://d3js.org/colorbrewer.v1.min.js"></script>
<script src="https://d3js.org/topojson.v2.min.js"></script>
<script src="js/drawBigFlower.js"></script>
<script src="js/drawChart.js"></script>
<script src="js/updateRiver.js"></script>


<div id="allrivers">
    <div id="danube" class="riverCont">
        <h5>Дунай</h5>
        <img style="width:100%" src="img/danube.png"/>
    </div>
    <div id="dnister" class="riverCont">
        <h5>Дністер</h5>
        <img style="width:100%" src="img/dnister.png"/>
    </div>
    <div id="wisla" class="riverCont">
        <h5>Вісла</h5>
        <img style="width:100%" src="img/wisla.png"/>
    </div>
    <div id="southernbug" class="riverCont">
        <h5>Південний Буг</h5>
        <img style="width:100%" src="img/southernbug.png"/>
    </div>
    <div id="dnipro" class="riverCont">
        <h5>Дніпро</h5>
        <img style="width:100%" src="img/dnipro.png"/>
    </div>
    <div id="don" class="riverCont">
        <h5>Дон</h5>
        <img style="width:100%" src="img/don.png"/>
    </div>


</div>

<script>


    setTimeout(function () {
        $('.river').css('display', "block");
    }, 3000);
    /* функція фільтрує річки і квітки по обраній річці графік на різні індикатори*/

    $(".riverCont").on("click", function () {
        var t = d3.zoomIdentity.translate(0, 0).scale(1);
        d3.select("body").call(zoom.transform, t);

        var id = $(this).attr("id");
//        alert(id);

        var filteredArray = riversNames.filter(function (obj) {
            return obj.value === id;
        });

        d3.selectAll(".river")
                .style("display", "none")
                .each(function () {
                    var currentPath = this;
                    if (currentPath.classList.contains(filteredArray[0].value)) {
                        d3.select(currentPath).style("display", "block")
                    }
                });

        d3.selectAll(".petal")
                .style("display", "none")
                .each(function () {
                    var currentPath = this;
                    if (currentPath.classList.contains(filteredArray[0].value)) {
                        d3.select(currentPath).style("display", "block")
                    }
                });

    });


</script>

</body>
</html>